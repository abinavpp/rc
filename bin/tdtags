#! /bin/bash

[[ -z $s ]] && s="$HOME/pj/llvm-project"
[[ -z $b ]] && b="$HOME/pj/build/rel/llvm-project"
[[ -z $t ]] && t='AMDGPU'

i="$s/llvm/lib/Target/$t/$t.td"

c="$b/bin/llvm-tblgen -I $b/include -I $s/llvm/include -I $s/llvm/lib/Target"
c+=" -I $s/llvm/lib/Target/$t -gen-ctags $i -o $s/llvm/tags"

bash -c "$c"
